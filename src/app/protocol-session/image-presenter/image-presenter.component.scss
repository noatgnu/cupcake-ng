.enhanced-image-presenter {
  max-width: 100%;
  
  .image-controls {
    .btn-toolbar {
      justify-content: center;
      flex-wrap: wrap;
      gap: 0.25rem;
      
      @media (max-width: 576px) {
        .btn-group {
          margin-bottom: 0.25rem;
        }
      }
    }
    
    .btn {
      &.active {
        background-color: var(--bs-primary);
        border-color: var(--bs-primary);
        color: var(--bs-body-bg);
      }
    }
  }
  
  .image-container {
    position: relative;
    border: 1px solid var(--bs-border-color);
    border-radius: 0.375rem;
    overflow: hidden;
    background: 
      linear-gradient(45deg, var(--bs-secondary-bg) 25%, transparent 25%), 
      linear-gradient(-45deg, var(--bs-secondary-bg) 25%, transparent 25%), 
      linear-gradient(45deg, transparent 75%, var(--bs-secondary-bg) 75%), 
      linear-gradient(-45deg, transparent 75%, var(--bs-secondary-bg) 75%);
    background-size: 20px 20px;
    background-position: 0 0, 0 10px, 10px -10px, -10px 0px;
    min-height: 300px;
    max-height: 500px;
    display: flex;
    align-items: center;
    justify-content: center;
    
    &.fullscreen {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      z-index: 9999;
      max-height: none;
      border-radius: 0;
      background: var(--bs-dark);
    }
    
    &.measurement-mode {
      cursor: crosshair;
    }
    
    .image-wrapper {
      position: relative;
      transition: transform 0.1s ease-out;
      transform-origin: center center;
      cursor: grab;
      
      &:active {
        cursor: grabbing;
      }
      
      .enhanced-image {
        max-width: 100%;
        max-height: 100%;
        display: block;
        user-select: none;
        pointer-events: none;
      }
      
      .image-loading-state,
      .image-error-state {
        min-height: 200px;
        display: flex;
        align-items: center;
        justify-content: center;
        
        .text-center {
          color: var(--bs-secondary);
          
          .fs-1 {
            font-size: 3rem !important;
            margin-bottom: 1rem;
          }
          
          p {
            margin-bottom: 1rem;
            font-size: 1.1rem;
          }
        }
      }
      
      .measurement-overlay {
        position: absolute;
        top: 0;
        left: 0;
        pointer-events: none;
        z-index: 10;
        
        .measurement-text {
          background: var(--bs-body-bg);
          color: var(--bs-body-color);
          padding: 2px 4px;
          border-radius: 3px;
          font-weight: 500;
          opacity: 0.9;
        }
      }
    }
  }
  
  .image-info {
    background: var(--bs-body-bg);
    border-radius: 0.375rem;
    padding: 0.75rem;
    border: 1px solid var(--bs-border-color-translucent);
    
    .row > div {
      display: flex;
      align-items: center;
      
      i {
        opacity: 0.7;
      }
    }
  }
}

// Responsive adjustments
@media (max-width: 768px) {
  .enhanced-image-presenter {
    .image-container {
      min-height: 200px;
      max-height: 400px;
    }
    
    .image-info {
      .row {
        flex-direction: column;
        gap: 0.5rem;
        
        > div {
          justify-content: center;
        }
      }
    }
  }
}

// Dark mode support
@media (prefers-color-scheme: dark) {
  .enhanced-image-presenter {
    .image-container {
      background: 
        linear-gradient(45deg, var(--bs-secondary) 25%, transparent 25%), 
        linear-gradient(-45deg, var(--bs-secondary) 25%, transparent 25%), 
        linear-gradient(45deg, transparent 75%, var(--bs-secondary) 75%), 
        linear-gradient(-45deg, transparent 75%, var(--bs-secondary) 75%);
      background-size: 20px 20px;
      background-position: 0 0, 0 10px, 10px -10px, -10px 0px;
      
      &.fullscreen {
        background: var(--bs-dark);
      }
    }
  }
}