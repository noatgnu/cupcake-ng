<div class="container-fluid p-5 d-flex flex-row justify-content-center" style="padding-top: 100px">
  <div class="card border-0">
    <div class="card-body d-flex flex-row justify-content-center">
      <div class="d-flex gap-2">
        <div class="logo">
          <img #logo class="logo_home" ngSrc="assets/cupcake_logo.png" alt="Cupcake Logo" [width]="128" [height]="128">
        </div>
        <div class="vr">
        </div>
        <div class="d-flex flex-column gap-1">
          <form [formGroup]="form" (ngSubmit)="onSubmit()">
            <div class="input-group mb-3">
              <input formControlName="url" type="text" class="form-control" id="protocolUrl" placeholder="Protocols.io URL">
              <button class="btn btn-primary" type="submit" id="protocolSubmit">Submit</button>
            </div>
          </form>
          <small>
            *Please note that the URL must be a valid Protocols.io URL or valid Protocols.io DOI.<br>
            *Example: <a target="_blank" href="https://www.protocols.io/view/expression-and-purification-of-rab10-1-181-stoichi-4r3l24p1xg1y/v1?step=1">https://www.protocols.io/view/expression-and-purification-of-rab10-1-181-stoichi-4r3l24p1xg1y/v1?step=1</a>
          </small>
          <hr>
          <div class="d-flex flex-row justify-content-center">
            <div>
              <button class="btn btn-primary" (click)="navigateToEditor()">Or Create Your Protocols</button>
            </div>
          </div>
          <hr>
          @if (protocolQuery) {
            @if (protocolQuery.results.length > 0) {
              <h5>Protocols</h5>
              <div class="list-group">
                @for (protocol of protocolQuery.results; track protocol.id) {
                  <div class="list-group-item list-group-item-action">
                    <div>
                      <a href="/#/protocol-session/{{protocol.id}}" target="_blank"><span [innerHTML]="protocol.protocol_title"></span></a>
                    </div>
                    <small>{{ protocol.protocol_created_on | date : "short" }}</small>
                  </div>
                }
              </div>
              <div class="d-flex flex-row gap-2">
                @if (protocolQuery.previous) {
                  <button class="btn btn-primary" (click)="getUserProtocols(protocolQuery.previous)">Previous</button>
                } @else {
                  <button class="btn btn-primary" disabled>Previous</button>
                }
                @if (protocolQuery.next) {
                  <button class="btn btn-primary" (click)="getUserProtocols(protocolQuery.next)">Next</button>
                } @else {
                  <button class="btn btn-primary" disabled>Next</button>
                }
              </div>
            }
          }

        </div>
      </div>
    </div>
  </div>
</div>

