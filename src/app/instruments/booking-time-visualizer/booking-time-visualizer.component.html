<div class="d-flex flex-column gap-1">
  @if (enableEdit) {
    <div>
      <b>
        Date Window
      </b>
    </div>
    <div>
      <ngb-datepicker #dp (dateSelect)="onDateSelection($event)" [displayMonths]="2" [dayTemplate]="t" outsideDays="hidden" />
    </div>


    <form [formGroup]="form" (ngSubmit)="updateTimeWindow()">
      <ng-template #t let-date let-focused="focused">
      <span
        class="custom-day"
        [class.focused]="focused"
        [class.range]="isRange(date)"
        [class.faded]="isHovered(date) || isInside(date)"
        (mouseenter)="hoveredDate = date"
        (mouseleave)="hoveredDate = null"
      >
        {{ date.day }}
      </span>
      </ng-template>

      <button class="btn btn-primary mt-1" type="submit">Update Window</button>
    </form>
    @if (selectedStartDate) {
      <div>
        <p>
          <b>Preview Start Date:</b> {{selectedStartDate | date: 'short'}}<br>
          @if (selectedEndDate) {
            <b>Preview End Date:</b> {{selectedEndDate | date: 'short'}}<br>
          }
        </p>
      </div>
    }
  }

</div>
<div class="container overflow-auto mt-2" style="max-width: 100%">
  <canvas (mousedown)="onMouseDown($event)" (mouseup)="onMouseUp($event)" (mousemove)="onMouseMove($event)" #canvas id="bookingCanvas" [height]="height"></canvas>
</div>


