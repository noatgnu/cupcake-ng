@if (step) {
  Step Description
  <quill-editor #editor [(ngModel)]="step.step_description" [modules]="editorConfig" (onContentChanged)="quillEditorChange($event, step)">

  </quill-editor>
  <div #dropdownMenu style="display: none;">
    <div class="list-group">
      @for (reagent of step.reagents; track reagent.id) {
        <div class="list-group-item list-group-item-action d-flex gap-1">
          @if (reagent.scalable) {
            <span class="badge bg-primary" [ngbTooltip]="'reagent quantity'" (click)="insertTemplate(reagent.id, 'quantity')">{{reagent.quantity}}</span> x {{reagent.scalable_factor}} = <span class="badge bg-danger" [ngbTooltip]="'reagent scaled quantity'" (click)="insertTemplate(reagent.id, 'scaled_quantity')">{{reagent.quantity * reagent.scalable_factor}}</span> <span class="badge bg-warning" [ngbTooltip]="'reagent unit'" (click)="insertTemplate(reagent.id, 'unit')">{{reagent.reagent.unit}}</span> <span class="badge bg-info" [ngbTooltip]="'reagent name'" (click)="insertTemplate(reagent.id, 'name')">{{reagent.reagent.name}}</span>

          } @else {
            <span class="badge bg-primary" [ngbTooltip]="'reagent quantity'" (click)="insertTemplate(reagent.id, 'quantity')">{{reagent.quantity}}</span> <span class="badge bg-warning" [ngbTooltip]="'reagent unit'" (click)="insertTemplate(reagent.id, 'unit')">{{reagent.reagent.unit}}</span> <span class="badge bg-info" [ngbTooltip]="'reagent name'" (click)="insertTemplate(reagent.id, 'name')">{{reagent.reagent.name}}</span>
          }
        </div>
      }
    </div>
  </div>
}


