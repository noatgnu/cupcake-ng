<div class="container-fluid p-0" style="margin-top: 80px">
  <nav class="navbar navbar-expand-lg navbar-light d-flex flex-wrap">
    <div class="container-fluid d-flex flex-row justify-content-center">
      <a class="navbar-brand">Accounts Information</a>
    </div>
  </nav>
  <div class="d-flex g-1" style="height: 86vh; position:relative">
    <div class="border-end border-1 border-black d-flex flex-column h-100" style="width: 300px">
      <nav class="navbar navbar-expand-lg navbar-light d-flex flex-wrap">
        <div class="container-fluid">
          <a class="navbar-brand">Sections</a>
        </div>
      </nav>
      <div class="list-group d-flex flex-column rounded-0 overflow-auto">
        <button type="button" class="list-group-item list-group-item-action" (click)="selectedSection='security'">Security</button>
        <button type="button" class="list-group-item list-group-item-action" (click)="selectedSection='appearance'">Appearance</button>
        <button type="button" class="list-group-item list-group-item-action" (click)="selectedSection='user-data'">User Data</button>
      </div>
    </div>
    <div class="d-flex flex-column w-100">
      @if (selectedSection === 'security') {
        <nav class="navbar navbar-expand-lg navbar-light d-flex flex-wrap">
          <div class="container-fluid">
            <a class="navbar-brand">Security</a>
          </div>
        </nav>
        <div class="d-flex flex-row">
          <div class="d-flex flex-column p-5">
            <form [formGroup]="passwordForm" (ngSubmit)="changePassword()" class="d-flex flex-column gap-2">
              <div class="form-floating">
                <input id="currentPassword" type="password" class="form-control" formControlName="currentPassword">
                <label for="currentPassword">Current Password</label>
              </div>
              <div class="form-floating">
                <input id="newPassword" type="password" class="form-control" formControlName="newPassword">
                <label for="newPassword">New Password</label>
              </div>
              <button type="submit" class="btn btn-primary">Change Password</button>
            </form>
          </div>
        </div>
      } @else if (selectedSection === 'appearance') {
        <nav class="navbar navbar-expand-lg navbar-light d-flex flex-wrap">
          <div class="container-fluid">
            <a class="navbar-brand">Appearance</a>
          </div>
        </nav>
        <div class="d-flex flex-row">
          <div class="d-flex flex-column p-5">
            <div class="form-check form-switch">
              <input class="form-check-input" type="checkbox" id="darkModeFollowSystemSwitch" [(ngModel)]="dataService.systemTheme" (change)="followSystemTheme($event)">
              <label class="form-check-label" for="darkModeFollowSystemSwitch">Dark Mode Follow System Theme</label>
            </div>
            <div class="form-check form-switch">
              <input class="form-check-input" type="checkbox" id="darkModeSwitch" [(ngModel)]="dataService.darkMode" (change)="toggleDarkMode($event)">
              <label class="form-check-label" for="darkModeSwitch">Dark Mode</label>
            </div>
          </div>
        </div>
      } @else if (selectedSection === 'user-data') {
        <nav class="navbar navbar-expand-lg navbar-light d-flex flex-wrap">
          <div class="container-fluid">
            <a class="navbar-brand">User Data</a>
          </div>
        </nav>
        <app-user-data></app-user-data>
      }
    </div>
  </div>
</div>
