<div class="card shadow-sm">
  <div class="card-header bg-transparent border-bottom d-flex justify-content-between align-items-center">
    <h2 class="fs-5 mb-0"><i class="bi bi-person-badge me-2"></i> Personal Information</h2>
  </div>
  <div class="card-body">
    <form [formGroup]="form" (ngSubmit)="updateProfile()" class="max-width-500">
      <!-- First Name field -->
      <div class="mb-3">
        <label for="first_name" class="form-label">First Name</label>
        <div class="input-group">
          <span class="input-group-text"><i class="bi bi-person"></i></span>
          <input type="text" class="form-control" id="first_name" formControlName="first_name"
                 [ngClass]="{'is-invalid': submitted && form.controls['first_name'].errors}">
        </div>
        @if (submitted && form.controls['first_name'].errors) {
          <div class="invalid-feedback d-block">
            @if (form.controls['first_name'].errors['required']) {
              First name is required
            }
          </div>
        }
      </div>

      <!-- Last Name field -->
      <div class="mb-3">
        <label for="last_name" class="form-label">Last Name</label>
        <div class="input-group">
          <span class="input-group-text"><i class="bi bi-person"></i></span>
          <input type="text" class="form-control" id="last_name" formControlName="last_name"
                 [ngClass]="{'is-invalid': submitted && form.controls['last_name'].errors}">
        </div>
        @if (submitted && form.controls['last_name'].errors) {
          <div class="invalid-feedback d-block">
            @if (form.controls['last_name'].errors['required']) {
              Last name is required
            }
          </div>
        }
      </div>

      <!-- Email field -->
      <div class="mb-4">
        <label for="email" class="form-label">Email Address</label>
        <div class="input-group">
          <span class="input-group-text"><i class="bi bi-envelope"></i></span>
          <input type="email" class="form-control" id="email" formControlName="email"
                 [ngClass]="{'is-invalid': submitted && form.controls['email'].errors}">
        </div>
        @if (submitted && form.controls['email'].errors) {
          <div class="invalid-feedback d-block">
            @if (form.controls['email'].errors['required']) {
              Email is required
            }
            @if (form.controls['email'].errors['email']) {
              Please enter a valid email address
            }
          </div>
        }
      </div>

      <!-- Submit button -->
      <div class="d-flex gap-2">
        <button type="submit" class="btn btn-primary" [disabled]="loading || form.invalid">
          @if (loading) {
            <span class="spinner-border spinner-border-sm me-2" role="status" aria-hidden="true"></span>
          } @else {
            <i class="bi bi-save me-2"></i>
          }
          Update Profile
        </button>
        <button type="button" class="btn btn-outline-secondary" (click)="resetForm()">
          <i class="bi bi-arrow-counterclockwise me-2"></i>
          Reset
        </button>
      </div>
    </form>
  </div>
</div>
