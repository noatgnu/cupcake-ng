<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Cupcake</title>
  <base href="/">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <script src="https://cdn.jsdelivr.net/npm/web-streams-polyfill@2.0.2/dist/ponyfill.min.js"></script>
  <link href="https://cdn.materialdesignicons.com/2.1.19/css/materialdesignicons.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
</head>
<body>
  <app-root></app-root>
  <div id="loading-screen" class="loading-overlay">
    <div class="loading-content">
      <img src="assets/cupcake_logo.png" alt="Logo" class="logo">
      <div class="spinner"></div>
    </div>
  </div>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      // Performance mark before loading the script
      performance.mark('main-script-start');

      // Select the script element with the dynamic hash
      const mainScript = document.querySelector('script[src^="main"][type="module"]');

      if (mainScript) {
        console.log(mainScript);
        // Listen for the load event
        mainScript.onload = () => {
          // Performance mark after the script has loaded
          performance.mark('main-script-end');

          // Measure the time taken to load the script
          performance.measure('main-script-load-time', 'main-script-start', 'main-script-end');

          // Log the measurement
          const measure = performance.getEntriesByName('main-script-load-time')[0];
          console.log(`Main script load time: ${measure.duration}ms`);
        };
      } else {
        console.error('Main script not found');
      }
    });
  </script>
</body>
</html>
